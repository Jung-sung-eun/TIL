## 2021. 11. 22

### 데이터 조작어 (DML)

#### INSERT 문 (데이터 삽입)

```mysql
INSERT INTO 테이블명 (열이름 리스트) VALUES (값 리스트);
```

- 테이블에 새로운 행을 삽입하는 명령어

- 여러 개의 데이터를 한 번에 INSERT
- 모든 열에 데이터를 입력할 경우 열, 생략이 가능
- VALUES 다음에 나오는 값들의 순서 및 개수가 테이블이 정의된 열 순서 및 개수와 동일해야 함



#### UPDATE 문 (데이터 수정)

```mysql
UPDATE 테이블명 SET 열이름 = 새값 WHERE 조건;
```

- 특정 열의 값을 수정하는 명령어
- 조건에 맞는 행을 찾아서 열의 값을 수정



#### DELETE 문 (데이터 삭제)

```mysql
DELETE FROM 테이블명 WHERE 조건;
```

- 테이블에 있는 기존 행을 삭제하는 명령



#### SELECT 문

```mysql
SELECT 열이름 리스트 FROM 테이블명
			[WHERE 검색조건]
			[GROUP BY 열이름]
			[HAVING 조건]
			[ORDER BY 열이름 [ASC|DESC]];
```

|      기능       | 설명                                                         |
| :-------------: | ------------------------------------------------------------ |
|  SELECT 열이름  | 검색할 열 기술                                               |
|  FROM 테이블명  | 데이터를 검색할 테이블명 기술                                |
|   WHERE 조건    | 질의 결과에 포함될 행들이 만족해야 할 조건 기술              |
| ODER BY 열이름  | 특정 열의 값을 기준으로 질의 결과 정렬 / ASC : 오름차순 / DESC : 내림차순 |
| GROUP BY 열이름 | 그룹 질의를 기술할 때 사용 / 특정 열로 그룹화한 후 각 그룹에 대한 한 행씩 질의 결과 생성 |
|   HAVING 조건   | GROUP BY절에 의해 구성된 그룹들에 대해 적용할 조건 기술      |



#### WHERE 조건

|         종류          | 연산자               |
| :-------------------: | :------------------- |
|         비교          | =, <, >, <=, >=, !=  |
|         범위          | BETWEEN              |
|     리스트에 포함     | IN, NOT IN           |
|         NULL          | IS NULL, IS NOT NULL |
|         논리          | AND, OR              |
| 패턴 매칭 문자열 검색 | LIKE                 |



#### 패턴 매칭 (LIKE)

| 문자열 연사 예 | 설명                                                      |
| :------------: | :-------------------------------------------------------- |
|     '홍%'      | '홍'으로 시작하는 문자열 검색                             |
|     '%길%'     | '길'을 포함하는 문자열 ('길' 앞,뒤에 아무 문자나 와도 됨) |
|     '%동'      | '동'으로 끝나는 문자열                                    |
|     '____'     | 4개의 문자로 구성된 문자열 (밑줄문자 1개가 1개의 문자)    |

| 와일드카드 문자 | 설명                              |     예     |
| :-------------: | :-------------------------------- | :--------: |
|        %        | 0개 이상의 문자를 가진 문자열     | LIKE '홍%' |
|        _        | 단일 문자 (수 만큼의 문자로 구성) | LIKE '__'  |



#### ORDER BY : 원하는 순서대로 정렬하여 출력

- 특정 열의 값을 기준으로 쿼리 결과 정렬
- ASC : 오름차순 (생략 가능)
- DESC : 내림차순



#### DISTINCT : 중복된 것은 하나만 남기는 것

- 중복된 것은 1개씩만 출력



 #### LIMIT : 출력하는 개수를 제한

- 상위 N개 출력 : LIMIT N 
- OFFSET 0 설정 ( OFFSET : 시작위치) - 첫 번째부터 시작 : LIMIT N OFFSET 0

- LIMIT 시작, 개수 : LIMIT 0,5 (첫 번째부터 5개) / LIMIT 10, 5 : (11번째부터 5개)



#### GROUP BY 절 : 그룹을 묶어주는 역할

- 그룹 쿼리를 기술할 때 사용
- 특정 열로 그룹화한 후 각 그룹에 대해 한 행씩 쿼리 결과 생성



#### HAVING 절

- GROUP BY 절에 의해 구성된 그룹들에 대해 적용할 조건 기술

❗️반드시 GROUP BY 절과 함께 사용 / WHERE절보다 뒤 / 검색 조건에 집계함수가 와야 함❗️

- 집계 함수와 함께 사용
  - 집계 함수
    - SUM () : 합계
    - AVG() : 평균
    - COUNT() : 선택된 열 행 수  (null 값은 제외)
    - COUNT(*) : 모든 열을 대상으로 전체 행 수
    - MAX() : 최대
    - MIN() : 최소